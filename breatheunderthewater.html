<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>breathunderthewater</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles1.css">
    <link rel="stylesheet" href="turtle.css">
    <p align="center">
        <!--This draws the Canvas on the webpage -->
        <canvas id="mycanvas"></canvas>
    </p>
</head>


<body>
    <div class="background">
        <div class="water"></div>

    <div class='scene'>
        <div class='wrapper'>
            <div class='jellyfish'>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
            </div>
        </div>
    </div>
    <div class='scene'>
        <div class='wrapper1'>
            <div class='jellyfish'>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
                <div class='jellyfish_ring'></div>
            </div>
        </div>
    </div>
    <!-- <div class='scene2'>
        <div class='wrapper2'>
            <div class='turtlingsss'> -->
        <div class='turtling0'><img src="image/turtle/t0.png" /></div>
        <div class='turtling1'><img src="image/turtle/t1.png" /></div>
        <div class='turtling3'><img src="image/turtle/t3.png" /></div>
        <div class='turtling4'><img src="image/turtle/t4.png" /></div>
        <div class='turtling5'><img src="image/turtle/t5.png" /></div>
        <div class='turtling'><img src="image/turtle/t6.png" /></div>
        <div class='turtling'><img src="image/turtle/t7.png" /></div>
        <div class='turtling'><img src="image/turtle/t8.png" /></div>
        <div class='turtling'><img src="image/turtle/t11.png" /></div>
        <div class='turtling'><img src="image/turtle/t0.png" /></div>
        <div class='turtling'><img src="image/turtle/t1.png" /></div>
        <div class='turtling'><img src="image/turtle/t3.png" /></div>
        <div class='turtling'><img src="image/turtle/t4.png" /></div>
        <div class='turtling'><img src="image/turtle/t5.png" /></div>
        <div class='turtling'><img src="image/turtle/t6.png" /></div>
        <div class='turtling'><img src="image/turtle/t7.png" /></div>
        <div class='turtling8'><img src="image/turtle/t8.png" /></div>
        <div class='turtling11'><img src="image/turtle/t11.png" /></div>
           </div>
        </div>
    </div> -->
    <h1> Wearing mask, people seem to breathe under the water.</h1>

    <h2> 你本是水，要归于水。于是雨收敛了最初的锋芒，汇成溪流，注入河中..</h2>
    <img class="shark" src="image/shark.png" width=18%;></img>
    <img class="facai2" src="image/facai2.png" width=400px;></img>
    <img class="shark2" src="image/shark2.png" width=22%;></img>
    <img class="stingay" src="stingay.png" width=280px;></img>
    <img class="seastar" src="seaStar.png" width=200px;></img>
    <img class="seaAnimal" src="seaAnimal4.png" width=200px;></img>
    <img class="jelly" src="jelly.png" width=230px;></img>
    <img class="jellyfish3" src="jellyfish3.png" width=200px;></img>
    <img class="turtle" src="turtle.png" width=300px;></img>
    <img class="lobster" src="lobster.png" width=300px;></img>
    <img class="stone" src="stone.png" width=300px;></img>
    <img class="crab" src="crab.png" width=200px;></img>
    <img class="backgd" src="backgd.png" width=100%;></img>
    <img id="whale" class="whale" src="image/whale.png" width=25%></img>

    <div>
        <!-- Cat walking GIF from: http://www.anniemation.com/clip_art/graphics.html -->
        <img id="cat" src="https://www.kasandbox.org/programming-images/misc/cat-walk.gif">
    </div>
    <audio autoplay loop>    
      
        <source src="dola.mp3" type="audio/mpeg">
    </audio>



    <audio controls>    
      
        <source src="soLong.mp3" type="audio/mpeg">
    </audio>

    <audio controls>    
        <source src="getdown.mp3" type="audio/mpeg">
       
    </audio>
   
    <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script>
    
    <script src="salmon.js" charset="utf-8"> </script>
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
    <script src="jquery/jquery.min.js"></script>
    <script>
        var sketchProc = function(processingInstance) {
            with(processingInstance) {
                size(1920, 1080);
                frameRate(30);
                // 	var canvas = document.querySelector('canvas');
                // var c = canvas.getContext('2d');

                // canvas.width = window.innerWidth;
                // canvas.height = window.innerHeight;

                // window.addEventListener("resize", function () {
                //     canvas.width = window.innerWidth;
                //     canvas.height = window.innerHeight;
                // });


                // var catEl = document.getElementById("cat"); //cat

                // var startTime = new Date().getTime(); //cat
                
                // var centerX = 80;                 
                // var centerY = 60;
                // var bodyLength = 43;
                // var bodyHeight = 25;
                var centX = 150;
                var centY = 138;
                var bodyL = 56;
                var bodyH = 33;
               

                var Particle = function(position) {
                    this.acceleration = new PVector(0, -0.05);
                    this.velocity = new PVector(random(-0.9, 1), random(-0.9, 0));
                    this.position = position.get();
                    this.timeToLive = 200;
                };

                Particle.prototype.run = function() {
                    this.update();
                    this.display();
                };

                Particle.prototype.update = function() {
                    this.velocity.add(this.acceleration);
                    this.position.add(this.velocity);
                    this.timeToLive -= 2;
                };

                Particle.prototype.display = function() {
                    stroke(235, 235, 235, 80);
                    strokeWeight(2);
                    fill(255, 255, 255, 40);
                    var radius = (height - this.position.y) / 100;
                    ellipse(this.position.x, this.position.y, radius, radius);
                };

                Particle.prototype.isDead = function() {
                    if (this.timeToLive < 0) {
                        return true;
                    } else {
                        return false;
                    }
                };

                var ParticleSystem = function(position) {
                    this.origin = position.get();
                    this.particles = [];
                };

                ParticleSystem.prototype.addParticle = function() {
                    this.particles.push(new Particle(this.origin));
                };

                ParticleSystem.prototype.run = function() {
                    for (var i = this.particles.length - 1; i >= 0; i--) {
                        var p = this.particles[i];
                        p.run();
                        if (p.isDead()) {
                            this.particles.splice(i, 1);
                        }
                    }
                };

                var Fish = function(position) {
                    this.position = position.get();
                    this.width = 100;
                    this.height = 60;
                };

                Fish.prototype.swim = function() {

                    this.position.x += 2.8;
                    this.position.y -= 0.5;
                    if (this.position.x > 1800) {
                        this.position.x = -120;
                    }

                    if (this.position.y < 0) {
                        this.position.y = 600;
                    }

                };

                Fish.prototype.display = function() {
                    noStroke();
                    fill(255, (this.position.x/3), (this.position.y/3));
                    ellipse(this.position.x, this.position.y, this.width, this.height);
                    triangle(this.position.x - this.width / 2 + 10, this.position.y,
                        this.position.x - this.width * 0.75, this.position.y + this.height / 3,
                        this.position.x - this.width * 0.75, this.position.y - this.height / 3);
                    fill(255, 191, 0);
                    triangle(this.position.x + this.width / 2 + 10, this.position.y - this.height / 12,
                        this.position.x + this.width / 2 - 2, this.position.y + this.height / 8,
                        this.position.x + this.width / 2 - 2, this.position.y - this.height / 8);
                    triangle(this.position.x + this.width / 2 + 10, this.position.y - this.height / 12 + 18,
                        this.position.x + this.width / 2 - 10, this.position.y + this.height / 8 + 10,
                        this.position.x + this.width / 2 - 12, this.position.y - this.height / 8 + 10);
                    fill(255, 255, 255);
                    ellipse(this.position.x + this.width / 2 - 10, this.position.y - 11, 15, 20);
                    fill(0, 0, 0);
                    ellipse(this.position.x + this.width / 2 - 7, this.position.y - 10, 6, 6);
                };

                Fish.prototype.getMouthPosition = function() {
                    return new PVector(this.position.x + this.width / 2 + 10, this.position.y);
                };

                var fish = new Fish(new PVector(width / 2, height / 2));                
                var bubbles = new ParticleSystem(fish.getMouthPosition());

                var fish2=new Fish(new PVector(width/3, height/3));
                var bubbles2 = new ParticleSystem(fish2.getMouthPosition());

                var fish3 = new Fish(new PVector(width / 4, height / 4));
                var bubbles3 = new ParticleSystem(fish3.getMouthPosition());


                var Salmon = function (centerX, centerY, bodyLength, bodyHeight) {
                    // this.position = position.get();
                   this.centerX = centerX;
                    this.centerY = centerY;
                    this.bodyLength = bodyLength;
                    this.bodyHeight = bodyHeight;
                };
                // var EyeX= (this.centerX + this.bodyLength * 0.3);
                // var EyeY= (this.centerY - this.bodyHeight * 0.4);

                Salmon.prototype.display = function() {
                    noStroke();
                    // fill(233, 35, 35);
                    fill((this.centerX+this.centerY), (this.centerX/10), (this.cenertY/10));
                    ellipse(this.centerX, this.centerY, this.bodyLength, this.bodyHeight);
                    fill((this.centerX/5), (this.centerX/8+100), (this.cenertY/8));
                    triangle(this.centerX - this.bodyLength / 2, this.centerY, this.centerX - this.bodyLength / 2 - this.bodyLength / 4, this.centerY - this.bodyHeight / 2, this.centerX - this.bodyLength / 2 - this.bodyLength / 4, this.centerY + this.bodyHeight / 2);

                    // eye
                    fill(33, 33, 33);
                    ellipse((this.centerX + this.bodyLength * 0.3), (this.centerY - this.bodyHeight * 0.1), this.bodyHeight/5, this.bodyHeight/5);
                }

    Salmon.prototype.swim = function () {
        this.centerX += 3;
        this.centerY += 0.8;

    if (this.centerX>1495 && this.centerY<216) {
            this.centerX = 0;   
    }  else if (this.centerX > canvas.width) {
    this.centerX = 0;
    }  else if (this.centerY > canvas.height) {
    this.centerY = 30;
    }     
    }
                var salmon = new Salmon(60,45,65,38);
                var salmon1 = new Salmon(100, 160, 50, 29);
                var salmon2 = new Salmon(150, 65, 65, 38);
                for (var i = 3; i < 18; i++) {                
                    var salmon_i = new Salmon(60 * (i - 1), 45, 65, 38);
                }
               
               var Whale=Object.create(Fish.prototype);
                // $(".whale").prototype.display = Object.create(Fish.prototype);
                $(".whale")=new Whale();

        draw = function() {
            background(69, 176, 255, 55);

                $(".whale").display();
                $(".whale").swim();
       
                salmon.display();
                salmon.swim();
                salmon1.display();
                salmon1.swim();
                salmon2.display();
                salmon2.swim();
                salmon_i.display();
                salmon_i.swim();
                   
                    
                    if (frameCount % 17 === 1) {
                        bubbles.addParticle();
                        bubbles2.addParticle();
                        bubbles3.addParticle();

                    }

                    bubbles.addParticle();
                    bubbles2.addParticle();
                    bubbles3.addParticle();
                    bubbles.origin.set(fish.getMouthPosition());
                    bubbles2.origin.set(fish2.getMouthPosition());
                     bubbles3.origin.set(fish3.getMouthPosition());
                    bubbles.run();
                    bubbles2.run();
                    bubbles3.run();
                    fish.swim();
                    fish.display();
                    fish2.swim();
                    fish2.display();
                    fish3.swim();
                    fish3.display();

                    // var bodyColor = color(centerX / 4 + 85, centerY / 3 + 155, centerX / 3 + 60);

                    // noStroke();
                    // fill(bodyColor);

                    // ellipse(centerX, centerY, bodyLength, bodyHeight); // =bodyF1
                    // fill(centx / 3, centerX / 3, centY / 4);
                    // ellipse(centX, centY, bodyL, bodyH);
                    // fill(centx / 3, centy / 5, centY / 4);
                    // ellipse(centX, centerY, bodyLength, bodyHeight);

                    // fill(centerx / 3, centX / 5, centY / 5);
                    // ellipse(centerx, centery, bodyLength, bodyHeight); // =bodyF3++
                    // ellipse(centx, centy, bodyL, bodyH);
                    // fill(centx / 3, centX / 5, centY / 5);
                    // ellipse(centx, centery, bodyLength, bodyHeight);

                    // var tailWidth = bodyLength / 4;
                    // var tailHeight = bodyHeight / 2;
                    // var tailW = bodyL / 4;
                    // var tailH = bodyH / 2;

                    // fill(centerX, 129, centerY);
                    // //<!--other 3 fishes!!>


                    // var tailWidth = bodyLength / 4;
                    // var tailHeight = bodyHeight / 2;
                    // var tailW = bodyL / 4;
                    // var tailH = bodyH / 2;
                    // triangle(centerX - bodyLength / 2, centerY,
                    //     centerX - bodyLength / 2 - tailWidth, centerY - tailHeight,
                    //     centerX - bodyLength / 2 - tailWidth, centerY + tailHeight); //=tail


                    // triangle(centX - bodyL / 2, centY,
                    //     centX - bodyL / 2 - tailW, centY - tailH,
                    //     centX - bodyL / 2 - tailW, centY + tailH); //=tail  
                    // triangle(centX - bodyLength / 2, centerY,
                    //     centX - bodyLength / 2 - tailWidth, centerY - tailHeight,
                    //     centX - bodyLength / 2 - tailWidth, centerY + tailHeight);

                    // triangle(centerx - bodyLength / 2, centery,
                    //     centerx - bodyLength / 2 - tailWidth, centery - tailHeight,
                    //     centerx - bodyLength / 2 - tailWidth, centery + tailHeight); //=tail

                    // triangle(centx - bodyL / 2, centy,
                    //     centx - bodyL / 2 - tailW, centy - tailH,
                    //     centx - bodyL / 2 - tailW, centy + tailH); //=tail  
                    // triangle(centx - bodyLength / 2, centery,
                    //     centx - bodyLength / 2 - tailWidth, centery - tailHeight,
                    //     centx - bodyLength / 2 - tailWidth, centery + tailHeight); //other 3 here
                    // // eye
                    // fill(33, 33, 33);
                    // ellipse(centerX + bodyL / 4, centerY, bodyHeight / 5, bodyHeight / 5);


                    // ellipse(centX + bodyL / 4, centY, bodyH / 5, bodyH / 5);



                    // ellipse(centX + bodyL / 4, centerY, bodyHeight / 5, bodyHeight / 5);


                    // ellipse(centerx + bodyL / 4, centery, bodyH / 5, bodyH / 5);

                    // // eye


                    // ellipse(centx + bodyLength / 4, centy, bodyHeight / 5, bodyHeight / 5);


                    // ellipse(centx + bodyLength / 4, centery, bodyHeight / 5, bodyHeight / 5);


                    // fill(245, 208, 208);
                    // ellipse(centerX + bodyLength / 4, centerY, bodyHeight / 19, bodyHeight / 15);
                    // rect(centX + bodyL / 4, centY, bodyH / 25, bodyH / 25);

                    // ellipse(centerx + bodyLength / 4, centery, bodyHeight / 19, bodyHeight / 15);
                    // rect(centx + bodyL / 4, centy, bodyH / 25, bodyH / 25);


                    // centerX += 3;
                    // centX += 2.2;
                    // centerY += 0.8;
                    // centY += 1.2;

                    // centerx += 4.5;
                    // centx += 5.8;
                    // centery += 1.5;
                    // centy += 1.9;
                    // if (centerX > 1500) {
                    //     centerX = 0;
                    // }
                    // if (centX > 1500) {
                    //     centX = 0;
                    // }
                    // if (centerY > 1000) {
                    //     centerY = 30;
                    // }
                    // if (centY > 1000) {
                    //     centY = 30;
                    // }

                    // if (centerx > 1500) {
                    //     centerx = 50;
                    // } //for another3
                    // if (centx > 1500) {
                    //     centx = 80;
                    // }
                    // if (centery > 1000) {
                    //     centery = 130;
                    // }
                    // if (centy > 1000) {
                    //     centy = 230;
                    // }



                    // stroke(212, 217, 222);
                    // noFill();
                    // ellipse(430, Y * 2, 10, 10);
                    // Y -= 1.3;
                    // X += 0.3;
                    // ellipse(365, Y * 3, 10, 10);
                    // ellipse(Y * 16, X, 11, 11);
                    // ellipse(X * 19, 80, 8, 7);
                    // ellipse(820, Y + 30, 10, 10);
                    // Y -= 1;
                    // X += 0.5;
                    // ellipse(65, Y - 20, 10, 10);
                    // ellipse(Y, X, 11, 11);
                    // ellipse(530, Y, 8, 7);
                    // ellipse(X * 20, Y, 10, 10);
                    // Y -= 2;
                    // X += 0.3;
                    // ellipse(65, Y, 10, 10);
                    // ellipse(Y + X, X, 11, 11);
                    // ellipse(X * 30, 80, 8, 7);
                    // ellipse(900, Y * 1.2, 10, 10);
                    // Y -= 1.5;
                    // X += 0.6;
                    // ellipse(650, Y * 4, 10, 10);
                    // ellipse(700, X, 11, 11);
                    // ellipse(X, 590, 8, 7);
                    // ellipse(700, Y + 80, 10, 10);
                    // Y -= 0.9;
                    // X += 1.3;
                    // ellipse(465, Y * 1.5, 10, 10);
                    // ellipse(830, X * 2, 11, 11);
                    // ellipse(910, Y * 1.1, 8, 7);

                    // if (Y < 0) {
                    //     Y = 1100;
                    // } // for other 3
                    // if (X > 1500) {
                    //     X = 50;
                    // }


                };

                // var walkTheCat = function() {
                //     var currTime = new Date().getTime();
                //     var secondsElapsed = ((currTime - startTime) / 1000);

                //     var newLeft = secondsElapsed * 50;

                //     catEl.style.left = newLeft + "px";
                //     window.requestAnimationFrame(walkTheCat);

                //     if (newLeft > 1600) {
                //         startTime = new Date().getTime();
                //     }

                // };


                // walkTheCat();



            }
        };


        // Get the canvas that Processing-js will use
        var canvas = document.getElementById("mycanvas");
        canvas.width = window.innerWidth;
        // Pass the function sketchProc (defined in myCode.js) to Processing's constructor.
        var processingInstance = new Processing(canvas, sketchProc);
    </script>
    


</body>

</html>